# processing file 'adhoc_resolution-int.trace' ...
        @type trace
        ###########################################
        # Testing path resolution with permissions
        ###########################################

        # create 3 nested dirs /d1/d2/d3,
        # d2 also contains a file. Then change read and
        # write permission for d2 and see what files / dirs
        # can still be accessed. To test path resolution the
        # command stat is used, to read the dir d2, readdir.
        # Both relative and absolute paths are tested.


        ###########################################
        # Initialisation
        ###########################################

    18: mkdir "/d1" 0o777
        Tau
        RV_none
    19: mkdir "/d1/d2/" 0o777
        Tau
        RV_none
    20: mkdir "/d1/d2/d3" 0o777
        Tau
        RV_none
    21: open_close "/d1/file1.txt" [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    22: open_close "/d1/d2/file2.txt" [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    23: open_close "/d1/d2/d3/file3.txt" [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none


        ###########################################
        # Absolute paths
        ###########################################

        # rwx
    31: chmod "/d1/d2" 0o700
        Tau
        RV_none
    32: opendir "/d1/d2"
        Tau
        RV_num(1)
    33: readdir (DH 1)
        Tau
        RV_bytes("d3")
    34: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
    35: readdir (DH 1)
        Tau
        RV_bytes(".")
    36: readdir (DH 1)
        Tau
        RV_bytes("..")
    37: closedir (DH 1)
        Tau
        RV_none
    38: stat "/d1/file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    39: stat "/d1/d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    40: stat "/d1/d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    41: stat "/d1/d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    42: stat "/d1/d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    43: stat "/d1/d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    44: stat "/d1/d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    45: stat "/d1/d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    46: chdir "/d1/d2"
        Tau
        RV_none
    47: chdir "/"
        Tau
        RV_none

        # r-x
    50: chmod "/d1/d2" 0o500
        Tau
        RV_none
    51: opendir "/d1/d2"
        Tau
        RV_num(1)
    52: readdir (DH 1)
        Tau
        RV_bytes("d3")
    53: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
    54: readdir (DH 1)
        Tau
        RV_bytes(".")
    55: readdir (DH 1)
        Tau
        RV_bytes("..")
    56: closedir (DH 1)
        Tau
        RV_none
    57: stat "/d1/file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    58: stat "/d1/d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    59: stat "/d1/d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    60: stat "/d1"
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    61: stat "/d1/d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    62: stat "/d1/d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    63: stat "/d1/d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    64: stat "/d1/d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    65: stat "/d1/d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    66: stat "/d1/d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    67: stat "/d1/d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    68: chdir "/d1/d2"
        Tau
        RV_none
    69: chdir "/"
        Tau
        RV_none

        # --x
    72: chmod "/d1/d2" 0o100
        Tau
        RV_none
    73: opendir "/d1/d2"
        Tau
        RV_num(1)
    74: readdir (DH 1)
        Tau
        RV_bytes("d3")
    75: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
    76: readdir (DH 1)
        Tau
        RV_bytes(".")
    77: readdir (DH 1)
        Tau
        RV_bytes("..")
    78: closedir (DH 1)
        Tau
        RV_none
    79: stat "/d1/file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    80: stat "/d1/d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    81: stat "/d1/d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    82: stat "/d1"
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    83: stat "/d1/d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    84: stat "/d1/d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    85: stat "/d1/d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    86: stat "/d1/d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    87: stat "/d1/d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    88: stat "/d1/d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
    89: stat "/d1/d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
    90: chdir "/d1/d2"
        Tau
        RV_none

        # r--
    93: chmod "/d1/d2" 0o400
        Tau
        RV_none
    94: opendir "/d1/d2"
        Tau
        RV_num(1)
    95: readdir (DH 1)
        Tau
        RV_bytes("d3")
    96: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
    97: readdir (DH 1)
        Tau
        RV_bytes(".")
    98: readdir (DH 1)
        Tau
        RV_bytes("..")
    99: closedir (DH 1)
        Tau
        RV_none
   100: stat "/d1/file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   101: stat "/d1/d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   102: stat "/d1/d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   103: stat "/d1"
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   104: stat "/d1/d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   105: stat "/d1/d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   106: stat "/d1/d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   107: stat "/d1/d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   108: stat "/d1/d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   109: stat "/d1/d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   110: stat "/d1/d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   111: chdir "/d1/d2"
        Tau
        RV_none
   112: chdir "/"
        Tau
        RV_none


        ###########################################
        # Relative paths from d1
        ###########################################

   119: chdir "/d1"
        Tau
        RV_none

        # rwx
   122: chmod "d2" 0o700
        Tau
        RV_none
   123: opendir "d2"
        Tau
        RV_num(1)
   124: readdir (DH 1)
        Tau
        RV_bytes("d3")
   125: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   126: readdir (DH 1)
        Tau
        RV_bytes(".")
   127: readdir (DH 1)
        Tau
        RV_bytes("..")
   128: closedir (DH 1)
        Tau
        RV_none
   129: stat "file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   130: stat "d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   131: stat "d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   132: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   133: stat "d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o700; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   134: stat "d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o700; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   135: stat "d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   136: stat "d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   137: stat "d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   138: stat "d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   139: stat "d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   140: chdir "d2"
        Tau
        RV_none
   141: chdir "/d1"
        Tau
        RV_none

        # r-x
   144: chmod "d2" 0o500
        Tau
        RV_none
   145: opendir "d2"
        Tau
        RV_num(1)
   146: readdir (DH 1)
        Tau
        RV_bytes("d3")
   147: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   148: readdir (DH 1)
        Tau
        RV_bytes(".")
   149: readdir (DH 1)
        Tau
        RV_bytes("..")
   150: closedir (DH 1)
        Tau
        RV_none
   151: stat "file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   152: stat "d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   153: stat "d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   154: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   155: stat "d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   156: stat "d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   157: stat "d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   158: stat "d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   159: stat "d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   160: stat "d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   161: stat "d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   162: chdir "d2"
        Tau
        RV_none
   163: chdir "/d1"
        Tau
        RV_none

        # --x
   166: chmod "d2" 0o100
        Tau
        RV_none
   167: opendir "d2"
        Tau
        RV_num(1)
   168: readdir (DH 1)
        Tau
        RV_bytes("d3")
   169: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   170: readdir (DH 1)
        Tau
        RV_bytes(".")
   171: readdir (DH 1)
        Tau
        RV_bytes("..")
   172: closedir (DH 1)
        Tau
        RV_none
   173: stat "file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   174: stat "d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   175: stat "d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   176: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   177: stat "d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   178: stat "d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   179: stat "d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   180: stat "d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   181: stat "d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   182: stat "d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   183: stat "d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   184: chdir "d2"
        Tau
        RV_none
   185: chdir "/d1"
        Tau
        RV_none

        # r--
   188: chmod "d2" 0o400
        Tau
        RV_none
   189: opendir "d2"
        Tau
        RV_num(1)
   190: readdir (DH 1)
        Tau
        RV_bytes("d3")
   191: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   192: readdir (DH 1)
        Tau
        RV_bytes(".")
   193: readdir (DH 1)
        Tau
        RV_bytes("..")
   194: closedir (DH 1)
        Tau
        RV_none
   195: stat "file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   196: stat "d2/file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   197: stat "d2/d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   198: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   199: stat "d2"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   200: stat "d2/"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   201: stat "d2/d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   202: stat "d2//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   203: stat "d2//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   204: stat "d2/./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   205: stat "d2/./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   206: chdir "d2"
        Tau
        RV_none
   207: chdir "/d1"
        Tau
        RV_none

        ###########################################
        # Relative paths from d2
        ###########################################

   213: chmod "/d1/d2" 0o700
        Tau
        RV_none
   214: chdir "/d1/d2"
        Tau
        RV_none

        # rwx
   217: chmod "." 0o700
        Tau
        RV_none
   218: opendir "."
        Tau
        RV_num(1)
   219: readdir (DH 1)
        Tau
        RV_bytes("d3")
   220: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   221: readdir (DH 1)
        Tau
        RV_bytes(".")
   222: readdir (DH 1)
        Tau
        RV_bytes("..")
   223: closedir (DH 1)
        Tau
        RV_none
   224: stat "../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   225: stat "file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   226: stat "d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   227: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   228: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o700; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   229: stat "./"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o700; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   230: stat "d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   231: stat ".//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   232: stat ".//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   233: stat "./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   234: stat "./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   235: chdir "."
        Tau
        RV_none

        # r-x
   238: chmod "." 0o500
        Tau
        RV_none
   239: opendir "."
        Tau
        RV_num(1)
   240: readdir (DH 1)
        Tau
        RV_bytes("d3")
   241: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   242: readdir (DH 1)
        Tau
        RV_bytes(".")
   243: readdir (DH 1)
        Tau
        RV_bytes("..")
   244: closedir (DH 1)
        Tau
        RV_none
   245: stat "../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   246: stat "file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   247: stat "d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   248: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   249: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   250: stat "./"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   251: stat "d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   252: stat ".//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   253: stat ".//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   254: stat "./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   255: stat "./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   256: chdir "."
        Tau
        RV_none

        # --x
   259: chmod "." 0o100
        Tau
        RV_none
   260: opendir "."
        Tau
        RV_num(1)
   261: readdir (DH 1)
        Tau
        RV_bytes("d3")
   262: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   263: readdir (DH 1)
        Tau
        RV_bytes(".")
   264: readdir (DH 1)
        Tau
        RV_bytes("..")
   265: closedir (DH 1)
        Tau
        RV_none
   266: stat "../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   267: stat "file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   268: stat "d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   269: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   270: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   271: stat "./"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   272: stat "d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   273: stat ".//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   274: stat ".//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   275: stat "./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   276: stat "./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   277: chdir "."
        Tau
        RV_none


        # r--
   281: chmod "." 0o400
        Tau
        RV_none
   282: opendir "."
        Tau
        RV_num(1)
   283: readdir (DH 1)
        Tau
        RV_bytes("d3")
   284: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   285: readdir (DH 1)
        Tau
        RV_bytes(".")
   286: readdir (DH 1)
        Tau
        RV_bytes("..")
   287: closedir (DH 1)
        Tau
        RV_none
   288: stat "../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   289: stat "file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   290: stat "d3/file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   291: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   292: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   293: stat "./"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   294: stat "d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   295: stat ".//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   296: stat ".//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   297: stat "./file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   298: stat "./d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   299: chdir "."
        Tau
        RV_none


        ###########################################
        # Relative paths from d3
        ###########################################

   306: chmod "/d1/d2" 0o700
        Tau
        RV_none
   307: chdir "/d1/d2/d3"
        Tau
        RV_none

        # rwx
   310: chmod ".." 0o700
        Tau
        RV_none
   311: opendir ".."
        Tau
        RV_num(1)
   312: readdir (DH 1)
        Tau
        RV_bytes("d3")
   313: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   314: readdir (DH 1)
        Tau
        RV_bytes(".")
   315: readdir (DH 1)
        Tau
        RV_bytes("..")
   316: closedir (DH 1)
        Tau
        RV_none
   317: stat "../../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   318: stat "../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   319: stat "file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   320: stat "../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   321: stat "..//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   322: stat "..//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   323: stat ".././file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   324: stat ".././d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   325: stat "../d3/../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   326: stat "../d3/../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   327: chdir ".."
        Tau
        RV_none

   329: chmod "/d1/d2" 0o700
        Tau
        RV_none
   330: chdir "/d1/d2/d3"
        Tau
        RV_none

        # r-x
   333: chmod ".." 0o500
        Tau
        RV_none
   334: opendir ".."
        Tau
        RV_num(1)
   335: readdir (DH 1)
        Tau
        RV_bytes("d3")
   336: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   337: readdir (DH 1)
        Tau
        RV_bytes(".")
   338: readdir (DH 1)
        Tau
        RV_bytes("..")
   339: closedir (DH 1)
        Tau
        RV_none
   340: stat "../../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   341: stat "../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   342: stat "file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   343: stat "../.."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   344: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   345: stat "../"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o500; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   346: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   347: stat "../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   348: stat "..//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   349: stat "..//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   350: stat ".././file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   351: stat ".././d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   352: stat "../d3/../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   353: stat "../d3/../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   354: chdir ".."
        Tau
        RV_none

   356: chmod "/d1/d2" 0o700
        Tau
        RV_none
   357: chdir "/d1/d2/d3"
        Tau
        RV_none

        # --x
   360: chmod ".." 0o100
        Tau
        RV_none
   361: opendir ".."
        Tau
        RV_num(1)
   362: readdir (DH 1)
        Tau
        RV_bytes("d3")
   363: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   364: readdir (DH 1)
        Tau
        RV_bytes(".")
   365: readdir (DH 1)
        Tau
        RV_bytes("..")
   366: closedir (DH 1)
        Tau
        RV_none
   367: stat "../../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   368: stat "../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   369: stat "file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   370: stat "../.."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   371: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   372: stat "../"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o100; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   373: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   374: stat "../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   375: stat "..//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   376: stat "..//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   377: stat ".././file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   378: stat ".././d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   379: stat "../d3/../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   380: stat "../d3/../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   381: chdir ".."
        Tau
        RV_none
   382: chdir "/d1"
        Tau
        RV_none

   384: chmod "/d1/d2" 0o700
        Tau
        RV_none
   385: chdir "/d1/d2/d3"
        Tau
        RV_none

        # r--
   388: chmod ".." 0o400
        Tau
        RV_none
   389: opendir ".."
        Tau
        RV_num(1)
   390: readdir (DH 1)
        Tau
        RV_bytes("d3")
   391: readdir (DH 1)
        Tau
        RV_bytes("file2.txt")
   392: readdir (DH 1)
        Tau
        RV_bytes(".")
   393: readdir (DH 1)
        Tau
        RV_bytes("..")
   394: closedir (DH 1)
        Tau
        RV_none
   395: stat "../../file1.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=15; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   396: stat "../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   397: stat "file3.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=19; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   398: stat "../.."
        Tau
        RV_stat { st_dev=1792; st_ino=32641; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   399: stat ".."
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   400: stat "../"
        Tau
        RV_stat { st_dev=1792; st_ino=32642; st_kind=S_IFDIR; st_perm=0o400; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   401: stat "."
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   402: stat "../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   403: stat "..//file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   404: stat "..//d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   405: stat ".././file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   406: stat ".././d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   407: stat "../d3/../file2.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=17; st_kind=S_IFREG; st_perm=0o644; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }
   408: stat "../d3/../d3"
        Tau
        RV_stat { st_dev=1792; st_ino=32643; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   409: chdir ".."
        Tau
        RV_none

   411: chmod "/d1/d2" 0o700
        Tau
        RV_none
   412: chdir "/d1/d2/d3"
        Tau
        RV_none


