# processing file 'adhoc_close_tests-int.trace' ...
        @type trace
        # Tests for close

        # close on an fd that was never used
     5: close (FD 3)
        Tau
        EBADF

        # and again
     8: close (FD 4)
        Tau
        EBADF

        # open a normal file, and close
    11: open "f1.txt" [O_CREAT;O_WRONLY] 0o644
        Tau
        RV_num(3)
    12: write (FD 3) "0123456789" 10
        Tau
        RV_num(10)
    13: close (FD 3)
        Tau
        RV_none

        # open a normal file, and close twice
    16: open "f2.txt" [O_CREAT;O_WRONLY] 0o644
        Tau
        RV_num(3)
    17: close (FD 3)
        Tau
        RV_none
    18: close (FD 3)
        Tau
        EBADF

        # open and close a recently closed fd
    21: open "f1.txt" [O_RDWR]
        Tau
        RV_num(3)
    22: close (FD 3)
        Tau
        RV_none

    24: open "f1" [O_RDWR]
        Tau
        ENOENT
    25: close (FD 3)
        Tau
        EBADF


        # multiple overlapping opens
    29: open "f1.txt" [O_RDWR]
        Tau
        RV_num(3)
    30: open "f2.txt" [O_RDWR]
        Tau
        RV_num(4)
    31: close (FD 3)
        Tau
        RV_none
    32: open "f1.txt" [O_RDWR]
        Tau
        RV_num(3)
    33: close (FD 4)
        Tau
        RV_none
    34: close (FD 3)
        Tau
        RV_none

        # opening a directory
    37: mkdir "d1" 0o755
        Tau
        RV_none
    38: open "d1" [O_RDWR]
        Tau
        EISDIR
    39: close (FD 3)
        Tau
        EBADF
    40: open "d1" [O_RDWR]
        Tau
        EISDIR
    41: close (FD 3)
        Tau
        EBADF

        # only for coverage purposes we test openclose on a symlink
    44: symlink "f1.txt" "my_symlink"
        Tau
        RV_none
    45: open_close "my_symlink" [O_RDWR] 0o666
        Tau
        RV_none

        # closing stdin
    48: close (FD 0)
        Tau
        RV_none

        # closing stdout
    51: close (FD 1)
        Tau
        RV_none

        # closing stderr
    54: close (FD 2)
        Tau
        RV_none


