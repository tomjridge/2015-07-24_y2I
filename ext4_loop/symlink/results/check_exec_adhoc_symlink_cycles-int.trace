# processing file 'exec_adhoc_symlink_cycles-int.trace' ...
        # processing file 'adhoc_symlink_cycles-int.trace' ...
        @type trace
        # adhoc_symlink_cycles

        # cyclic links can be created, but raise ELOOP when followed
     6: symlink "/1" "/2"
     7: Tau
     8: RV_none
     9: symlink "/2" "/1"
    10: Tau
    11: RV_none
    12: chdir "/1"
    13: Tau
    14: ELOOP
    15: dump-result "/"
           "/"|D|13
           "/1"|L|"/2"
           "/2"|L|"/1"
        end dump-result
    16: unlink "/1"
    17: Tau
    18: RV_none
    19: unlink "/2"
    20: Tau
    21: RV_none

        # self-cycles are still cycles
    24: symlink "/1" "/2"
    25: Tau
    26: RV_none
    27: link "/2" "/1"
    28: Tau
    29: RV_none
    30: chdir "/2"
    31: Tau
    32: ELOOP
    33: dump-result "/"
           "/"|D|13
           "/1"|L|"/1"
           "/2"|L|"/1"
        end dump-result
    34: unlink "/1"
    35: Tau
    36: RV_none
    37: unlink "/2"
    38: Tau
    39: RV_none

        # introductory slides don't matter for ELOOP
    42: symlink "/1" "/slide_1"
    43: Tau
    44: RV_none
    45: symlink "/slide_1" "/slide_2"
    46: Tau
    47: RV_none
    48: symlink "/slide_2" "/slide_3"
    49: Tau
    50: RV_none
    51: symlink "/2" "/1"
    52: Tau
    53: RV_none
    54: symlink "/1" "/2"
    55: Tau
    56: RV_none
    57: chdir "/slide_3"
    58: Tau
    59: ELOOP
    60: unlink "/1"
    61: Tau
    62: RV_none
    63: unlink "/2"
    64: Tau
    65: RV_none
    66: unlink "/slide_1"
    67: Tau
    68: RV_none
    69: unlink "/slide_2"
    70: Tau
    71: RV_none
    72: unlink "/slide_3"
    73: Tau
    74: RV_none
    75: dump-result "/"
           "/"|D|13
        end dump-result

        # directory loops are fine
    78: mkdir "/mua" 0o777
    79: Tau
    80: RV_none
    81: symlink "../mua" "mua/ha"
    82: Tau
    83: RV_none
    84: chdir "mua/ha/ha/ha"
    85: Tau
    86: RV_none

        # ... even multiplicative ones...
    89: symlink "../mua/ha/ha/ha" "he"
    90: Tau
    91: RV_none
    92: chdir "he/he/he"
    93: Tau
    94: RV_none
    95: symlink "../mua/he/he/he" "ho"
    96: Tau
    97: RV_none
    98: chdir "ho/ho/ho"
    99: Tau
   100: RV_none

        # ... but symlinks with directory loops are not
   103: symlink "ho/ho/ho/eloop" "eloop"
   104: Tau
   105: RV_none
   106: chdir "eloop"
   107: Tau
   108: ELOOP

   110: chdir ".."
   111: Tau
   112: RV_none

   114: dump-result "."
           "."|D|13
           "./mua"|D|17
           "./mua/eloop"|L|"ho/ho/ho/eloop"
           "./mua/ha"|L|"../mua"
           "./mua/he"|L|"../mua/ha/ha/ha"
           "./mua/ho"|L|"../mua/he/he/he"
        end dump-result



# trace accepted
