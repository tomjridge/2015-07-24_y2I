# processing file 'exec_adhoc_symlink_follow-int.trace' ...
        # processing file 'adhoc_symlink_follow-int.trace' ...
        @type trace
        # adhoc_symlink_errors

        # initialization

     7: mkdir "/dir_1" 0o777
     8: Tau
     9: RV_none
    10: mkdir "/dir_1/dir_11" 0o777
    11: Tau
    12: RV_none
    13: mkdir "/dir_2" 0o777
    14: Tau
    15: RV_none

    17: open "/dir_1/f1.txt" [O_CREAT;O_RDWR] 0o666
    18: Tau
    19: RV_num(3)
    20: write! (FD 3) "content of /dir_1/f1.txt" 24
    21: Tau
    22: RV_num(24)
    23: close (FD 3)
    24: Tau
    25: RV_none

    27: open "/dir_1/f2.txt" [O_CREAT;O_RDWR] 0o666
    28: Tau
    29: RV_num(3)
    30: write! (FD 3) "content of /dir_1/f2.txt" 24
    31: Tau
    32: RV_num(24)
    33: close (FD 3)
    34: Tau
    35: RV_none

    37: open "/dir_2/f1.txt" [O_CREAT;O_RDWR] 0o666
    38: Tau
    39: RV_num(3)
    40: write! (FD 3) "content of /dir_2/f1.txt" 24
    41: Tau
    42: RV_num(24)
    43: close (FD 3)
    44: Tau
    45: RV_none

        ###################################################
        # whether a symbolic link that occurs as the last
        # component of a resolved path is followed depends
        # on the command, so test it for all commands
        ###################################################

    53: symlink "/dir_1" "/dir_link"
    54: Tau
    55: RV_none
    56: symlink "/dir_1/f1.txt" "/file_link"
    57: Tau
    58: RV_none
    59: symlink "/not_there" "/gone_link"
    60: Tau
    61: RV_none

    63: link "/dir_1" "/dir_3"
    64: Tau
    65: EPERM
    66: link "/dir_link" "/dir_4"
    67: Tau
    68: RV_none
    69: link "/dir_1/f1.txt" "/f1.txt"
    70: Tau
    71: RV_none
    72: link "/file_link" "/f2.txt"
    73: Tau
    74: RV_none
    75: link "/gone_link" "/f3.txt"
    76: Tau
    77: RV_none

    79: mkdir "/dir_link" 0o777
    80: Tau
    81: EEXIST
    82: mkdir "/file_link" 0o777
    83: Tau
    84: EEXIST
    85: mkdir "/dir_1" 0o777
    86: Tau
    87: EEXIST
    88: mkdir "/dir_1/f1.txt" 0o777
    89: Tau
    90: EEXIST
    91: mkdir "/gone_link" 0o777
    92: Tau
    93: EEXIST

    95: symlink "/f_5" "/new_file_link_1"
    96: Tau
    97: RV_none
    98: symlink "/f_6" "/new_file_link_2"
    99: Tau
   100: RV_none
   101: open_close "/new_file_link_1" [O_CREAT;O_RDWR] 0o666
   102: Tau
   103: RV_none
   104: symlink "xyz" "/new_file_link_2"
   105: Tau
   106: EEXIST

   108: stat "/dir_link"
   109: Tau
   110: RV_stat { st_dev=1792; st_ino=18; st_kind=S_IFDIR; st_perm=0o755; st_nlink=3; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; }
   111: stat "/file_link"
   112: Tau
   113: RV_stat { st_dev=1792; st_ino=23; st_kind=S_IFREG; st_perm=0o644; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=24; }

   115: truncate "/file_link" 0
   116: Tau
   117: RV_none
   118: stat "/file_link"
   119: Tau
   120: RV_stat { st_dev=1792; st_ino=23; st_kind=S_IFREG; st_perm=0o644; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=0; }

   122: dump-result "/"
           "/"|D|17
           "/dir_4"|L|"/dir_1"
           "/dir_link"|L|"/dir_1"
           "/f1.txt"|F|23|0|"da39a3ee5e6b4b0d3255bfef95601890afd80709"
           "/f2.txt"|L|"/dir_1/f1.txt"
           "/f3.txt"|L|"/not_there"
           "/f_5"|F|33|0|"da39a3ee5e6b4b0d3255bfef95601890afd80709"
           "/file_link"|L|"/dir_1/f1.txt"
           "/gone_link"|L|"/not_there"
           "/new_file_link_1"|L|"/f_5"
           "/new_file_link_2"|L|"/f_6"
           "/dir_1"|D|18
           "/dir_1/f1.txt"|F|23|0|"da39a3ee5e6b4b0d3255bfef95601890afd80709"
           "/dir_1/f2.txt"|F|25|24|"643494cc13ad08ccb3f11680caf2f3a8b294b994"
           "/dir_1/dir_11"|D|20
           "/dir_2"|D|21
           "/dir_2/f1.txt"|F|27|24|"727703159e2b79582d71e169cf66473ba9f4ee5c"
        end dump-result



# trace accepted
