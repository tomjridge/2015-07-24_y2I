# processing file 'exec_adhoc_rename_restricted_write_perm_on_dir-int.trace' ...
        # processing file 'adhoc_rename_restricted_write_perm_on_dir-int.trace' ...
        @type trace


        #####################################

        # Test restricted delete permissions rsrc

        #####################################


    12: Pid 2 -> create (User_id 1) (Group_id 0)

    14: chmod "/" 0o1777
    15: Tau
    16: RV_none

    18: Pid 2 -> mkdir "/empty_dir1" 0o1777
    19: Tau
    20: Pid 2 <- RV_none

    22: Pid 1 -> chown "/empty_dir1" (User_id 2) (Group_id 0)
    23: Tau
    24: Pid 1 <- RV_none

    26: Pid 2 -> rename "/empty_dir1" "/mydir"
    27: Tau
    28: Pid 2 <- EPERM


        #####################################

        # Test restricted delete permissions parent dir of rdst

        #####################################


    38: Pid 1 -> open_close "/f.txt" [O_RDONLY;O_CREAT] 0o666
    39: Tau
    40: Pid 1 <- RV_none

    42: Pid 2 -> mkdir "/empty_dir2" 0o777
    43: Tau
    44: Pid 2 <- RV_none

    46: Pid 2 -> rename "/f.txt" "/empty_dir1"
    47: Tau
    48: Pid 2 <- EPERM

    50: dump-result "/"
           "/"|D|32644
           "/f.txt"|F|13|0|"da39a3ee5e6b4b0d3255bfef95601890afd80709"
           "/empty_dir1"|D|65286
           "/empty_dir2"|D|32641
        end dump-result



# trace accepted
